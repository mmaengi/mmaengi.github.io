<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My IDE Memo</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #1e1e1e; /* VS Code ê¸°ë³¸ ë°°ê²½ìƒ‰ */
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        /* ìƒë‹¨ í—¤ë” (íŒŒì¼ íƒ­ ëŠë‚Œ) */
        #header {
            height: 35px;
            background-color: #252526;
            color: #cccccc;
            display: flex;
            align-items: center;
            padding: 0 20px;
            font-size: 13px;
            border-bottom: 1px solid #3e3e42;
            justify-content: space-between;
        }

        #file-name {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            background-color: #0e639c;
            border: none;
            color: white;
            padding: 5px 12px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 12px;
            cursor: pointer;
            border-radius: 2px;
        }
        .btn:hover { background-color: #1177bb; }

        /* ì—ë””í„° ì˜ì—­ */
        #container {
            width: 100%;
            height: calc(100% - 35px); /* í—¤ë” ë†’ì´ ì œì™¸ */
        }
    </style>
</head>
<body>

    <div id="header">
        <div id="file-name">
            <span>ğŸ“ Lecture_Notes.md</span>
            <span style="font-size: 10px; color: #888; margin-left: 10px;">(ìë™ ì €ì¥ë¨)</span>
        </div>
        <div>
            <button class="btn" onclick="downloadFile()">ë‹¤ìš´ë¡œë“œ (.md)</button>
        </div>
    </div>

    <div id="container"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>

    <script>
        require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs' }});

        require(['vs/editor/editor.main'], function() {
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì €ì¥ëœ ë‚´ìš© ë¶ˆëŸ¬ì˜¤ê¸°
            let savedContent = localStorage.getItem('myMemoContent') || "# ê°•ì˜ ë…¸íŠ¸\n\n- ì´ê³³ì— ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”.\n- VS Code ë‹¨ì¶•í‚¤ê°€ ì‘ë™í•©ë‹ˆë‹¤.\n- íƒ­(Tab)ìœ¼ë¡œ ë“¤ì—¬ì“°ê¸°ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n```python\nprint('ì½”ë“œ í•˜ì´ë¼ì´íŒ…ë„ ì§€ì›í•©ë‹ˆë‹¤')\n```";

            // ì—ë””í„° ìƒì„±
            var editor = monaco.editor.create(document.getElementById('container'), {
                value: savedContent,
                language: 'markdown', // ë§ˆí¬ë‹¤ìš´ ì–¸ì–´ ì„¤ì • (ê°•ì˜ ë…¸íŠ¸ìš© ì¶”ì²œ)
                theme: 'vs-dark',     // ë‹¤í¬ ëª¨ë“œ
                automaticLayout: true, // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ìë™ ì¡°ì ˆ
                fontSize: 14,
                fontFamily: 'Consolas, "Courier New", monospace',
                minimap: { enabled: true }, // ìš°ì¸¡ ë¯¸ë‹ˆë§µ
                wordWrap: 'on'        // ì¤„ë°”ê¿ˆ ì„¤ì •
            });

            // ë‚´ìš©ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ìë™ ì €ì¥ (1ì´ˆ í›„)
            let saveTimeout;
            editor.onDidChangeModelContent(() => {
                clearTimeout(saveTimeout);
                saveTimeout = setTimeout(() => {
                    localStorage.setItem('myMemoContent', editor.getValue());
                }, 1000);
            });

            // ì „ì—­ ë³€ìˆ˜ë¡œ ì—ë””í„° ë…¸ì¶œ (ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜ìš©)
            window.editorInstance = editor;
        });

        // íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        function downloadFile() {
            const content = window.editorInstance.getValue();
            const blob = new Blob([content], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Lecture_Notes.md';
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
